---
layout: post
title: 【B站辅助工具】使用BilibiliFansManager批量导出你的粉丝！（大于千粉up请绕道）
image: bfm.jpg
date: 2021-03-06 03:45:00 +0200
tags: [工具,B站,Bilibili,粉丝,管理]
categories: BFM
---

这 是 米 花 第 二 次 写 专 栏 ， 如 果 有 什 么 不 足 的 地 方 ， 希 望 大 家 多 多 包 涵 并 给 出 建 议 ~


***

<div class="article-holder"><p><br></p><figure class="img-box"><img data-src="//i0.hdslb.com/bfs/article/a4a2c3832a69abc7b4fc770bce4de12c97f2c733.png@1320w_990h.webp" width="800" height="600" data-size="56178" data-index="0" src="//i0.hdslb.com/bfs/article/a4a2c3832a69abc7b4fc770bce4de12c97f2c733.png@1320w_990h.webp" class="loaded" style="width: 660px; height: 495px;"><figcaption class="caption">BFM</figcaption></figure><p><span class="color-yellow-02 font-size-16"></span><br></p><p><span class="color-yellow-02 font-size-16"><br></span></p><p><span class="color-yellow-02 font-size-16">这是<span class="color-yellow-02 font-size-23"><strong>米花</strong></span>第二次写专栏，如果有什么不足的地方，希望大家多多<strong>包涵</strong>并给出<strong>建议</strong>~</span></p><p><br></p><p><span class="color-gray-01 font-size-20">总</span><span class="color-gray-01">算结束了紧张的<span class="color-gray-01 font-size-20">中考</span>，成绩也出来了。3年的心放下来了，终于可以<span style="text-decoration: line-through;text-decoration-line: line-through;">不务正业</span>干自己喜欢的事情啦！</span><br></p><p><span class="color-gray-01"></span></p><figure class="img-box"><img class="cut-off-5 loaded" src="//i0.hdslb.com/bfs/article/4adb9255ada5b97061e610b682b8636764fe50ed.png"></figure><h1><span class="color-pink-03"><strong><span class="font-size-20">写在前面，根据 “<strong>社会易姐QwQ”（</strong><a target="_blank" href="https://space.bilibili.com/293793435">https://space.bilibili.com/293793435</a>）在github的回issue，粉丝获取<span class="color-green-04 font-size-20">最多</span>只能获取50x20=<span class="color-green-04 font-size-20">1000</span>名，无SESSDATA时只能获取50x5=250名。</span></strong></span></h1><blockquote><p><span class="color-pink-03"><strong><span class="font-size-20">非本人限制只能看前5页，本人限制只能看前50页，也就是如果粉丝多于1k后面的为不可见，是否本人使用cookie认证<br>可以看何同学那个粉丝墙的视频，他的信息来源不是直接抓取，还是问B站要的，B站的直接转换数据库</span></strong></span></p><p><span class="color-pink-03"><strong><span class="font-size-20"></span></strong></span></p><h1><span class="color-pink-03">（<span class="color-blue-02 font-size-20">https://github.com/SocialSisterYi/bilibili-API-collect/issues/44</span>）</span></h1><p><span class="color-pink-03"><strong><span class="font-size-20"></span></strong></span><br></p></blockquote><h1><strong><span class="font-size-20"><br></span></strong></h1><h1><strong><span class="font-size-20">目录</span></strong></h1><p><span class="color-pink-02 font-size-20">这是这篇文章的目录，请根据需要阅读。</span><strong><span class="font-size-23"><br></span></strong></p><ul class=" list-paddingleft-2"><li><p>工具开发过程</p></li><li><p>使用BFM批量导出粉丝</p></li><li><p>下载测试版</p></li></ul><p>（每个<span class="color-pink-02"><strong>要点</strong></span>用两只小电视括起来）</p><p><br></p><p><br></p><figure class="img-box"><img class="cut-off-5 loaded" src="//i0.hdslb.com/bfs/article/4adb9255ada5b97061e610b682b8636764fe50ed.png"></figure><p><span class="color-pink-02 font-size-23"><strong>工具开发过程</strong></span></p><p><span class="color-gray-01 font-size-12">开发一个第三方B站粉丝管理器</span></p><p><a target="_blank" href="https://www.bilibili.com/read/cv5418851">（满脸问号的你不知道为什么突然就开始开发了，点我）</a></p><figure class="img-box"><img class="cut-off-2 loaded" src="//i0.hdslb.com/bfs/article/4aa545dccf7de8d4a93c2b2b8e3265ac0a26d216.png"></figure><ul class=" list-paddingleft-2"><li><h1>获取粉丝</h1></li></ul><p>　　根据B站规定，获取第五页以后的粉丝列表需要本人的<strong>SESSDATA</strong>。蛤？你问我啥是<strong>SESSDATA</strong>？</p><figure class="img-box"><img data-src="//i0.hdslb.com/bfs/article/3eafa23382532b219c20f46a98d439df617c7c7b.png@1320w_978h.webp" width="1307" height="968" data-size="117634" data-index="1" src="//static.hdslb.com/images/transparent.gif" style="width: 660px; height: 489px;"><figcaption class="caption">限制访问</figcaption></figure><p><span class="color-default font-size-20"><strong>S</strong>ESSDATA</span></p><p><span class="font-size-16">　　<span class="color-gray-02">这是一串用于</span><span class="color-pink-02"><strong>验证登入</strong></span><span class="color-gray-02">的密钥，当我们完整走过一趟登入流程后，我们将会获得</span><strong><span class="color-pink-02">SESSDATA</span></strong><span class="color-gray-02">、csrf等</span><strong><span class="color-pink-02">cookie<span class="color-default"></span></span></strong><span class="color-gray-02">，存储于本地。它们将用于</span><strong><span class="color-pink-02">验证</span></strong><span class="color-gray-02">执行粉丝查阅，视频投币、文章收藏等操作是否合法。 ——我 引 用 我 自 己</span></span></p><p><br></p><ul class=" list-paddingleft-2"><li><h1><span class="font-size-20">功能初步实现！</span><br></h1></li></ul><p><span class="color-gray-01"></span>　　在朋友的帮助下，我花了半天时间总算是<strong><span class="color-pink-02">搞定</span></strong>了C#中HttpWebClient请求网页时header里<strong><span class="color-pink-02">cookie</span></strong>的设定，通过导入<span class="color-pink-02"><strong>SESSDATA</strong></span>，顺利地<strong><span class="color-pink-02">解决</span></strong>了无法获得第六页及以后粉丝列表的<strong><span class="color-pink-02">问题</span></strong>。然后我将这个功能成功地在<strong><span class="color-pink-02">U3D编辑器</span></strong>里<strong><span class="color-pink-02">实现</span></strong>了<span style="text-decoration: line-through;">（别问我为什么用U3D，wssb）</span></p><p><span style="text-decoration: line-through;"></span></p><figure class="img-box"><img data-src="//i0.hdslb.com/bfs/article/49d6df072cd75334bc4cbb3497af833826792342.png@1320w_926h.webp" width="1307" height="916" data-size="430709" data-index="2" src="//static.hdslb.com/images/transparent.gif" style="width: 660px; height: 463px;"><figcaption class="caption">成功在Unity 3D引擎 中获取第六页粉丝</figcaption></figure><p><span style="text-decoration: line-through;"></span></p><ul class=" list-paddingleft-2"><li><h1><span class="font-size-20">出现问题！</span></h1></li></ul><p><span class="font-size-20">　　从API获取的粉丝数据是以Json的键值储存起来的。它们的基本结构大概是这样的。</span></p><p><span class="color-pink-02 font-size-16">{"这是一个键":这是一个值,"第二个键":第二个值}</span></p><p><span class="font-size-12"><br></span></p><blockquote><p><span class="font-size-12">{"mid":487763254,"attribute":0,"mtime":1596903325,"tag":null,"special":0,"uname":"Starshine刹那","face":"http://i0.hdslb.com/bfs/face/f2b32878a9b3a26f3228acc8dbce290866112fd3.jpg","sign":"年底冲刺20w关注，现在关注我的都是元老级粉丝哦，点个关注，不吃亏不上当～","official_verify":{"type":-1,"desc":""},"vip":{"vipType":2,"vipDueDate":1618934400000,"dueRemark":"","accessStatus":0,"vipStatus":1,"vipStatusWarn":"","themeType":0,"label":{"path":""}}}</span></p></blockquote><p><span class="font-size-12">——一串长长的Json</span><br></p><p><span class="font-size-12"><br></span></p><p><span class="font-size-20"><span class="font-size-20">　　</span>为了<strong><span class="color-pink-02 font-size-20">便于处理</span></strong>这段数据，我需要把它们<strong><span class="color-pink-02 font-size-20">转换</span></strong>成别的形式。所以我用到了一款很受欢迎的Nuget程序包——<strong><span class="color-pink-02 font-size-20">NewtonSoft.Json</span></strong>。用于转换格式，便于处理。</span></p><p><span class="font-size-20"></span></p><figure class="img-box"><img data-src="//i0.hdslb.com/bfs/article/25a286d5976d79c3b7c568148ddcd0a8402620c2.png@1320w_652h.webp" width="1321" height="652" data-size="61560" data-index="3" src="//static.hdslb.com/images/transparent.gif" style="width: 660px; height: 326px;"><figcaption class="caption">Newtonsoft.Json</figcaption></figure><p><span class="font-size-20"></span><br></p><p><span class="font-size-20">　　当我<strong><span class="color-pink-02 font-size-20">完成</span></strong>编程，在U3D中尝试运行的时候，尴尬的事出现了。Microsoft Visual Studio中成功引用了Newtonsoft.json，但是U3D编辑器没有。我整了<strong><span class="color-pink-02 font-size-20">好久好久</span></strong>，使用的方法包括但不限于重新引用、添加插件，但都以<strong><span class="color-pink-02 font-size-20">失败告终</span></strong>。</span></p><p><span class="font-size-20"><br></span></p><figure class="img-box"><img data-src="//i0.hdslb.com/bfs/article/324a85f7c6200dc729cc83d41cf50d37bdc0eeb2.png@1320w_940h.webp" width="1374" height="978" data-size="87892" data-index="4" src="//static.hdslb.com/images/transparent.gif" style="width: 660px; height: 470px;"><figcaption class="caption">ljU3D!</figcaption></figure><p><br></p><ul class=" list-paddingleft-2"><li><h1><span class="color-default font-size-20">重写</span></h1></li></ul><p><span class="font-size-20">　　</span>生气的我一怒之下<span style="text-decoration: line-through;">bully了电脑一顿</span>保存并退出Unity3D。这次，我直接用<span class="font-size-16">Microsoft&nbsp;Visual&nbsp;Studio 2015<strong><span class="color-pink-02 font-size-16">新建</span></strong>了一个基于C#的窗体,然后<strong><span class="color-pink-02 font-size-16">重写</span></strong>代码，加了<strong><span class="font-size-23">一</span></strong><span class="color-gray-01 font-size-12">亿</span><strong><span class="font-size-23">、、</span></strong>细节。</span></p><p><span class="font-size-16"></span></p><figure class="img-box"><img data-src="//i0.hdslb.com/bfs/article/bc9fc1144fa4321773899471b971c05bd6e6624d.png@1320w_764h.webp" width="1866" height="1080" data-size="372478" data-index="5" src="//static.hdslb.com/images/transparent.gif" style="width: 660px; height: 382px;"><figcaption class="caption">亿、、细节</figcaption></figure><ul class=" list-paddingleft-2"><li><h1><span class="font-size-16"></span><span class="font-size-20">继&nbsp; 续&nbsp; 肝</span></h1></li></ul><p><span class="font-size-20">　　</span><strong>革命尚未成功，同志仍须努力！</strong>现在粉丝获取以及粉丝批量导出都已经完成了，正在完成剩下的SESSDATA自动获取功能和粉丝分析功能。</p><p><br></p><figure class="img-box"><img class="cut-off-4 loaded" src="//i0.hdslb.com/bfs/article/db75225feabec8d8b64ee7d3c7165cd639554cbc.png"></figure><figure class="img-box"><img class="cut-off-5 loaded" src="//i0.hdslb.com/bfs/article/4adb9255ada5b97061e610b682b8636764fe50ed.png"></figure><h1><span class="color-pink-02"><strong>用BFM批量导出你的粉丝</strong></span></h1><p><span class="color-gray-01 font-size-12">使用BilibiliFansManager轻松批量导出你的粉丝！</span></p><p><span class="color-gray-01 font-size-12"></span></p><figure class="img-box"><img class="cut-off-2 loaded" src="//i0.hdslb.com/bfs/article/4aa545dccf7de8d4a93c2b2b8e3265ac0a26d216.png"></figure><ul class=" list-paddingleft-2"><li><h1>获取权限</h1></li></ul><p><span class="font-size-20">　　</span>想要获得自己的粉丝全列表，就需要你自己的uid和SESSDATA。</p><p>如何获得自己的SESSDATA？</p><p><br></p><p>这里以<span class="font-size-20"><strong><span class="color-pink-03">Google</span>&nbsp;<span class="color-green-04">Chr<span class="color-blue-02 font-size-20">o</span>me&nbsp;</span><span class="color-yellow-03">浏览器</span></strong></span>为例</p><figure class="img-box"><img data-src="//i0.hdslb.com/bfs/article/28f76ee5121473ba78717d97f1020f3ee2663f37.png@1320w_990h.webp" width="800" height="600" data-size="106584" data-index="6" src="//static.hdslb.com/images/transparent.gif" style="width: 660px; height: 495px;"><figcaption class="caption">Step 1</figcaption></figure><p><br></p><p>第一步&nbsp;在浏览器中打开B站登入页面并登入你的帐号。点击网址左侧小锁，在弹出的窗口中选择“Cookie”</p><figure class="img-box"><img data-src="//i0.hdslb.com/bfs/article/ea4a58e55e1e27ee3a9d3babd0ed22fe642a23b1.png@1320w_990h.webp" width="800" height="600" data-size="34333" data-index="7" src="//static.hdslb.com/images/transparent.gif" style="width: 660px; height: 495px;"><figcaption class="caption">Step 2</figcaption></figure><p>第二步&nbsp;在Cookie页面中依次选择bilibili.com &gt; Cookie &gt; SESSDATA。在选中项下方的内容栏复制你的SESSDATA<br></p><p><br></p><p><span class="font-size-20"><strong>※注意！</strong></span><span class="color-pink-02">SESSDATA</span>十分重要，一般情况下请<span class="color-pink-02">不要</span>泄露给其他人。<span class="color-pink-02">SESSDATA</span>在刷新后或者Cookie到期后就不可用了，<strong>如果你担心<span class="color-pink-02">SESSDATA</span>被人盗用，只需要在任意一台设备上<span class="color-pink-02">重新登入</span>你的帐号就行了。</strong></p><p><br></p><ul class=" list-paddingleft-2"><li><h1>获取粉丝列表</h1></li></ul><p><span class="font-size-20">　　</span>在BFM获取页面下方的两个框中分别填入你的<strong><span class="color-pink-02">Uid</span></strong>和<strong><span class="color-pink-02">SESSDATA</span></strong>，点击<strong><span class="color-pink-02">开始获取</span></strong>。获取时间依据你粉丝数的多少决定。粉丝<span class="color-pink-02"><strong>越多</strong></span>需要的时间<strong><span class="color-pink-02">越久</span></strong>。</p><p><span class="font-size-20">　　<span class="font-size-16">等列表<span class="color-pink-02 font-size-16"><strong>完全显示</strong></span>，就代表粉丝列表<strong><span class="color-pink-02 font-size-16">获取成功</span></strong>。这时，点击右下方的<strong><span class="color-pink-02 font-size-16">导出</span></strong>按钮即可导出为Text阵列文件。</span></span></p><p><span class="font-size-23">※申明！</span><span class="font-size-20">此软件<span class="color-pink-02 font-size-20"><strong>不会</strong></span>以任何理由<strong><span class="color-pink-02 font-size-20">窃取</span></strong>您的<strong><span class="color-pink-02 font-size-20">SESSDATA</span></strong>，软件将会在基本完成后在<strong><span class="color-gray-03 font-size-20">github</span></strong>上<strong><span class="color-pink-02">开源</span></strong>。</span></p><ul class=" list-paddingleft-2"><li><h1><span class="font-size-20"><span class="font-size-16">其他</span></span></h1></li></ul><p><span class="font-size-20">将<strong><span class="color-gray-03 font-size-20">txt文档</span></strong>转换到<strong><span class="color-green-03 font-size-20">Excel</span></strong><span class="color-green-03 font-size-20"><strong>表格</strong></span></span></p><p><span class="font-size-20"><span class="color-green-03 font-size-20"></span></span></p><figure class="img-box"><img data-src="//i0.hdslb.com/bfs/article/f280ed5b5f1fa463d805ac568b970c6da08b9411.png@1320w_622h.webp" width="1617" height="763" data-size="254264" data-index="8" src="//static.hdslb.com/images/transparent.gif" style="width: 660px; height: 311px;"><figcaption class="caption">txt2xlsx 1</figcaption></figure><p>一、打开&nbsp;选择格式为文本文档</p><figure class="img-box"><img data-src="//i0.hdslb.com/bfs/article/42ff51ec37122a8fef765a90549b4c6fc7e948f8.png@1320w_742h.webp" width="960" height="540" data-size="126726" data-index="9" src="//static.hdslb.com/images/transparent.gif" style="width: 660px; height: 371px;"><figcaption class="caption">txt2xlsx 2</figcaption></figure><p><br></p><p>二、选择刚刚导出的txt文本文档</p><figure class="img-box"><img data-src="//i0.hdslb.com/bfs/article/8367ce87adc675cbcb776fc41cc23c66ecc02a21.png@1320w_990h.webp" width="800" height="600" data-size="138191" data-index="10" src="//static.hdslb.com/images/transparent.gif" style="width: 660px; height: 495px;"><figcaption class="caption">txt2xlsx</figcaption></figure><p>三、根据上图设置导入选项</p><figure class="img-box"><img data-src="//i0.hdslb.com/bfs/article/3018fe4d36782417e5475417f82c72e3ac142a41.png@1320w_696h.webp" width="1440" height="760" data-size="142621" data-index="11" src="//static.hdslb.com/images/transparent.gif" style="width: 660px; height: 348px;"><figcaption class="caption">txt2xlsx</figcaption></figure><p>四、调整一下列宽&nbsp;完成！<span class="font-size-20"><span class="color-green-03 font-size-20"></span></span><br></p><p><br></p><figure class="img-box"><img class="cut-off-4 loaded" src="//i0.hdslb.com/bfs/article/db75225feabec8d8b64ee7d3c7165cd639554cbc.png"></figure><figure class="img-box"><img class="cut-off-5 loaded" src="//i0.hdslb.com/bfs/article/4adb9255ada5b97061e610b682b8636764fe50ed.png"></figure><h1><span class="color-pink-02">BilibiliFansManager下载</span></h1><p><span class="color-gray-01 font-size-12">你都看到这里了，不如点个推荐和收藏吧！</span><span class="color-pink-02"><br></span></p><p><span class="color-gray-01 font-size-12"></span></p><figure class="img-box"><img class="cut-off-2 loaded" src="//i0.hdslb.com/bfs/article/4aa545dccf7de8d4a93c2b2b8e3265ac0a26d216.png"></figure><p><br></p><p><strong><span class="color-blue-02">百度</span><span class="color-gray-01">云盘</span></strong></p><p><strong><span class="color-blue-02 font-size-12">Baidu</span><span class="color-gray-01 font-size-12">YunDisk</span></strong><span class="color-gray-01 font-size-12"></span><br></p><p><span class="color-default"><strong><span class="font-size-12">https://pan.baidu.com/s/1IJ31J1bzC_6siXhrqvPG4Q 提取码: 2333</span></strong><strong><span class="font-size-12"></span></strong></span></p><p><span class="color-default"><strong><span class="font-size-12"></span></strong></span></p><figure class="img-box"><img data-src="//i0.hdslb.com/bfs/article/f06a65c8d704aeb71053c9ae5e6f2d5c52bdd171.jpg@560w_560h.webp" width="280" height="280" data-size="57038" data-index="12" src="//static.hdslb.com/images/transparent.gif" style="width: 280px; height: 280px;"><figcaption class="caption">百度云下载</figcaption></figure><p><span class="color-default"><strong><span class="font-size-12"></span></strong></span><br></p><p><br></p><figure class="img-box"><img class="cut-off-4 loaded" src="//i0.hdslb.com/bfs/article/db75225feabec8d8b64ee7d3c7165cd639554cbc.png"></figure><p><br></p><p><br></p><p><br></p><p><br></p><p><span class="color-gray-02 font-size-12">上期</span></p><p><span class="color-gray-01 font-size-12"><br></span></p><figure class="img-box"><div class="card-container"><div class="card article-card-root" card-type="article" cid="5418851"><a href="//www.bilibili.com/read/cv5418851?from=articleDetail" target="_blank" class="article-card-wrap slim-border"><div class="article-cover cover-default"></div><div class="article-cover" style="background-image:url(https://i0.hdslb.com/bfs/article/993764e6e633a0bbfb39b91481fe5177cbaa87c5.jpg@234w_176h_1e_1c.webp)"></div><div class="article-info-container"><p class="title">【B站API】通过uid获取B站某人粉丝详情，找到昨天掉的那个粉丝是谁</p><p class="desc">这是米花第一次写专栏，如果有什么不足的地方，希望大家多多包涵并给出建议~这日中午无聊，发现粉丝又掉了一个。我正寻思我到底是哪里做得不好了掉了个粉，本着好奇心的驱使，前去创作中心，个人空间……找遍整个B站都没找到显示昨天掉的那个粉丝究竟是谁。我就在想能不能用别的方式找到掉的那个粉丝。于是去找api，客服啊，教程啊。写的都是粉丝个数的api，客服也回应表示主站暂时没有。我只能去html里找。于是翻着翻着终于在个人主页的网页里找到啦！个人主页的html复制下来、除杂、过滤、蒸发得到这个http://a</p><p class="card-status"><span class="card-label"></span><span class="author status-item"><i class="status-icon icon-up"></i><span>炸了的米花PopcornBoom</span></span><span class="status-item"><i class="status-icon icon-play"></i><span>911</span></span><span class="status-item"><i class="status-icon icon-like"></i><span>22</span></span><span class="status-item"><i class="status-icon icon-comment"></i><span>25</span></span></p></div></a></div></div></figure><p><br></p><p><br></p><p><br></p></div>